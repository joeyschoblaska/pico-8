pico-8 cartridge // http://www.pico-8.com
version 18
__lua__
-- lander
-- by thrillhouse

function _init()
  game_over = false
  win = false
  g = 0.025 -- gravity
  star_rand = rnd(128)

  make_player()
  make_ground()
end

function _update()
  if (not game_over) then
    move_player()
    check_land()
  else
    if (btnp(5)) _init()
  end
end

function _draw()
  cls()

  draw_stars()
  draw_ground()
  draw_player()

  if (game_over) then
    if (win) then
      print("nice landing!", 40, 38, 11)
    else
      print("ouch", 57, 38, 8)
    end

    print("press ‚ùé to play again", 22, 60, 5)
  end
end

#include lander/player.p8
#include lander/ground.p8
#include utils/rndb.p8

function draw_stars()
  srand(star_rand)

  for i = 1, 50 do
    pset(rndb(0, 127), rndb(0, 127), rndb(5, 7))
  end

  srand(time())
end

function end_game(won)
  game_over = true
  win = won

  if (win) then
    sfx(1)
  else
    sfx(2)
  end
end
__gfx__
0000000000700700762dddddddddd766000000000088880000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000770007666666666666666000000000899998000000000000000000000000000000000000000000000000000000000000000000000000000000000
0070070003b3b3b0007666666666660000000000899aa99800000000000000000000000000000000000000000000000000000000000000000000000000000000
000770003b66663b0000000000000000000b600089aaaa9800000000000000000000000000000000000000000000000000000000000000000000000000000000
0007700003b3b3b0000000000000000000bb600089aaaa9800000000000000000000000000000000000000000000000000000000000000000000000000000000
0070070000300b0000000000000000000bbb6000899aa99800000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000b003000000000000000000000060000899998000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000b300b300000000000000000000060000088880000000000000000000000000000000000000000000000000000000000000000000000000000000000
__label__
00000000000000000000000000000000000000000000000000000500000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000005000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000600000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000007000600000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000500000000000005000000000000000000000
00000000000000000000000000000000000000000000000000000000700000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000060
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000500000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000700000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000070000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000700700000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000077000000000000000000000000000000000000000000000000000000000000000
00000000000000007000000000000000000000000000000000000000000003b3b3b0000000000000000000000000000000000000000000000000000000000000
0000000000000000000000600000000006000000000000000000000000003b66663b000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000003b3b3b0000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000300b00000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000b00300000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000b300b30000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000007000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000007000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000060000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000070000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000070000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000700000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000500000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000070000000000000000000000
00000000000000000070000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000700000000000000000000000000000005000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000060000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000070000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000500000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000500000000000000000000000000000000000000
00000000000000000000000000000050600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000050500000000000000000000000000000000000000000000000000000000000000500000000000000000000000000000000
00000000000000000000000000000555550000000000000000000550000000000000000000000000000000000000000000000000000000006000000000000000
00000000000000000000000000000555550000005000005500000555500000000000000000000000000000000007000000000000000000000000000000000000
00000000000000000000000000000555550005005500055500055555500000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000005555555005005500055555055555550000000000000000000000000000000000000000000000000000000000000000000000
00000050000000000000000000055555555055555500055555055555550000000000000000000000000000000000000000000000000000000000000000000000
00005050000000000000000000555555555055555550555555555555550000000000000000000000000000000000000000000000000000000000000000000000
00055050000000000000000000555555555555555555555555555555555000000000000000000000000000000000000000000000000000000000000000000000
000550500762dddddddddd7660555555555555555555555555555555555500000000000000000000000000000000000000000000000000000000000000000000
00055050576666666666666665555555555555555555555555555555555550000000000000000000000000000000000000000000000000000000000000000000
00555050555766666666666555555555555555555555555555555555555550000000000000000000000000000000000000000000000000000000000000000000
00555555555555555555555555555555555555555555555555555555555555000000000000000000000000000000000000000000000000000000000000000000
50555555555555555555555555555555555555555555555555555555555555000000000000000000000000000000000000000050005000000000000000000000
55555555555555555555555555555555555555555555555555555555555555500000000000000000000000000000000000600050005000000000000000000500
55555555555555555555555555555555555555555555555555555555555555500000000000000000000000000000000000000055055500000000000000000500
55555555555555555555555555555555555555555555555555555555555555500000000000000000000000000000000000000555055505005000000050005500
55555555555555555555555555555555555555555555555555555555555555550500000000000000000000000000000000000555555555005000050055005550
55555555555555555555555555555555555555555555555555555555555555550500000000000000000000000000000000005555555555055000050055055555
55555555555555555555555555555555555555555555555555555555555555555505000000000000000000000000000005005555555555555500555555555555
55555555555555555555555555555555555555555555555555555555555555555555000000000000000000000000000005505555555555555550555555555555
55555555555555555555555555555555555555555555555555555555555555555555500000050000000000000000000005555555555555555555555555555555
55555555555555555555555555555555555555555555555555555555555555555555500000055000000000000000000055555555555555555555555555555555
55555555555555555555555555555555555555555555555555555555555555555555550050555000000000000000000055555555555555555555555555555555
55555555555555555555555555555555555555555555555555555555555555555555550050555000000000000000005055555555555555555555555555555555
55555555555555555555555555555555555555555555555555555555555555555555555555555500000000000000005555555555555555555555555555555555
55555555555555555555555555555555555555555555555555555555555555555555555555555550000000000000055555555555555555555555555555555555
55555555555555555555555555555555555555555555555555555555555555555555555555555550005000000050555555555555555555555555555555555555
55555555555555555555555555555555555555555555555555555555555555555555555555555555000000000050555555555555555555555555555555555555
55555555555555555555555555555555555555555555555555555555555555555555555555555555000005000050555555555555555555555555555555555555
55555555555555555555555555555555555555555555555555555555555555555555555555555555000055000555555555555555555555555555555555555555
55555555555555555555555555555555555555555555555555555555555555555555555555555555500555005555555555555555555555555555555555555555
55555555555555555555555555555555555555555555555555555555555555555555555555555555505555555555555555555555555555555555555555555555
55555555555555555555555555555555555555555555555555555555555555555555555555555555505555555555555555555555555555555555555555555555
55555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555
55555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555
55555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555
55555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555
55555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555
55555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555
55555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555
55555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555

__sfx__
000600001365000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000c00001e0701e0301b0701b03014070140301e0701e030000001b0701e0701e0300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000400003f66039660346602e6602965025650216401d6401963015630126300e6200c62009620066100461002610016100061000000000000000000000000000000000000000000000000000000000000000000
